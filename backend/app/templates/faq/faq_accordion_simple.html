<!-- FAQ_Accordion_Simple -->
<!-- Clean list of questions, clicking "+" expands the answer -->
<!-- Best for: Service businesses with complex pricing or processes -->
<!-- Variables: section_title, faqs[], primary_color -->

<section id="faq" class="py-20 bg-white">
    <div class="max-w-3xl mx-auto px-6">
        <!-- Section Header -->
        <div class="text-center mb-12">
            <h2 class="text-3xl md:text-4xl font-bold text-gray-900 mb-4">
                {{ section_title | default("Frequently Asked Questions") }}
            </h2>
            <p class="text-lg text-gray-600">
                {{ section_subtitle | default("Got questions? We've got answers.") }}
            </p>
        </div>

        <!-- FAQ Accordion -->
        <div class="space-y-4">
            {% for faq in faqs %}
            <div
                class="faq-item border border-gray-200 rounded-2xl overflow-hidden hover:border-gray-300 transition-colors">
                <button class="faq-trigger w-full flex items-center justify-between p-6 text-left"
                    onclick="toggleFaq(this)">
                    <span class="font-semibold text-gray-900 pr-4">{{ faq.question }}</span>
                    <div class="faq-icon w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0 transition-all duration-300"
                        style="background: {{ primary_color }}15; color: {{ primary_color }};">
                        <svg class="w-4 h-4 faq-plus" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4" />
                        </svg>
                        <svg class="w-4 h-4 faq-minus hidden" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 12H4" />
                        </svg>
                    </div>
                </button>
                <div class="faq-content hidden">
                    <div class="px-6 pb-6 text-gray-600 leading-relaxed">
                        {{ faq.answer }}
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>

        <!-- Optional CTA -->
        {% if cta_text %}
        <div class="text-center mt-12 p-8 rounded-2xl bg-gray-50">
            <p class="text-gray-600 mb-4">{{ cta_question | default("Still have questions?") }}</p>
            <a href="{{ cta_link | default('#contact') }}"
                class="inline-flex items-center gap-2 px-6 py-3 rounded-xl font-semibold text-white transition-all hover:scale-105"
                style="background: {{ primary_color }};">
                {{ cta_text }}
            </a>
        </div>
        {% endif %}
    </div>
</section>

<script>
    function toggleFaq(trigger) {
        const item = trigger.closest('.faq-item');
        const content = item.querySelector('.faq-content');
        const plus = item.querySelector('.faq-plus');
        const minus = item.querySelector('.faq-minus');
        const icon = item.querySelector('.faq-icon');

        const isOpen = !content.classList.contains('hidden');

        // Close all other FAQs
        document.querySelectorAll('.faq-item').forEach(otherItem => {
            if (otherItem !== item) {
                otherItem.querySelector('.faq-content').classList.add('hidden');
                otherItem.querySelector('.faq-plus').classList.remove('hidden');
                otherItem.querySelector('.faq-minus').classList.add('hidden');
                otherItem.querySelector('.faq-icon').style.transform = 'rotate(0deg)';
            }
        });

        // Toggle current
        if (isOpen) {
            content.classList.add('hidden');
            plus.classList.remove('hidden');
            minus.classList.add('hidden');
            icon.style.transform = 'rotate(0deg)';
        } else {
            content.classList.remove('hidden');
            plus.classList.add('hidden');
            minus.classList.remove('hidden');
            icon.style.transform = 'rotate(180deg)';
        }
    }
</script>