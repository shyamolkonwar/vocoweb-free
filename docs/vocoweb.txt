### **Part 2: Configure the Tunnel (api.vocoweb.in)**

Now we need to point `api.vocoweb.in` to your local machine using the existing tunnel.

1. **Open your Terminal** (VS Code).
2. **Locate your config file:** Usually found at `~/.cloudflared/config.yml` or inside your project folder if you created a local config.
3. **Edit the Config:** Open the `config.yml` file. You will see the old `api.laxizen.fun` rule. Update it to:
```yaml
tunnel: [YOUR-TUNNEL-ID-UUID]
credentials-file: /path/to/your/credentials.json

ingress:
  - hostname: api.vocoweb.in   # <--- CHANGED THIS
    service: http://localhost:8000 # (Or whatever port your backend runs on)
  - service: http_status:404

```


4. **Update the DNS Route:**
Run this command in your terminal to tell Cloudflare to point `api.vocoweb.in` to this tunnel:
```bash
cloudflared tunnel route dns [YOUR-TUNNEL-NAME] api.vocoweb.in

```


*(Note: Replace `[YOUR-TUNNEL-NAME]` with the actual name you gave your tunnel, e.g., `my-tunnel`)*.
5. **Restart the Tunnel:**
If your tunnel is running as a service, restart it. If you run it manually, stop it (Ctrl+C) and run:
```bash
cloudflared tunnel run [YOUR-TUNNEL-NAME]

```



---

### **Part 3: Configure the Worker (Subdomains)**

Now for the tricky part: Moving the logic that handles `user1.vocoweb.in` from the old domain to the new one.

1. **Find your Worker Code:** Go to the folder where you wrote the worker script (usually `index.js` or `worker.js` and a `wrangler.toml` file).
2. **Update `wrangler.toml`:**
Open `wrangler.toml` and look for the `routes` section. Update it to:
```toml
name = "vocoweb-subdomains" # Optional: Change name if you want
main = "src/index.js"
compatibility_date = "2023-10-02"

# ROUTING
# This tells the worker to run on any subdomain of vocoweb.in
routes = [
    { pattern = "*.vocoweb.in/*", zone_name = "vocoweb.in" }
]

```


3. **Update the Worker Logic (`index.js`):**
Open your `.js` file. You likely have code that parses the URL to find the subdomain. You need to change the "Base Domain" logic.
*Look for something like this:*
```javascript
const BASE_DOMAIN = "laxizen.fun"; // OLD

```


*Change it to:*
```javascript
const BASE_DOMAIN = "vocoweb.in"; // NEW

```


4. **Deploy the Worker:**
Run:
```bash
npx wrangler deploy

```


5. **Add the Wildcard DNS:**
For the Worker to "catch" the subdomains, you need a DNS record in Cloudflare.
* Go to **Cloudflare DNS**.
* Add a new record:
* **Type:** `A`
* **Name:** `*` (Asterisk means wildcard)
* **Content:** `192.0.2.1` (This is a dummy IP; the Worker will intercept the traffic before it hits this IP).
* **Proxy Status:** **Proxied (Orange Cloud)**.





---

### **Part 4: Final Connection Check**

1. **Backend:** Update `ALLOWED_HOSTS` in your Django `settings.py` to include `.vocoweb.in`.
2. **Frontend:** Update your Vercel Environment Variables (`NEXT_PUBLIC_API_URL`) to `https://api.vocoweb.in`.

**Next Step:**
Try running the commands in **Part 2** (Tunnel) first. Let me know if you get any error messages in the terminal!